<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <h1>Rock, paper, scissors</h1>
  <div id="roundResult"></div>
  <p id="humanScoreCounter">Your score: 0</p>
  <p id="computerScoreCounter">Computer score: 0</p>
  <p id="gameResult"></p>
  <div id="choiceButtons">
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
  </div>
  <button id="playAgain" style="display: none;">Play again</button>
  <script>

    let humanChoice;
    let humanScore = 0;
    let computerScore = 0;
    let reset = document.querySelector("#playAgain")

    const buttons = choiceButtons.querySelectorAll("button");

    buttons.forEach((button) => {
      button.addEventListener("click", () => {
        humanChoice = button.id;
        playGame(button.id);
      });
    });

    reset.addEventListener("click", function() {
      document.querySelector("#choiceButtons").style.display = "block";
      document.querySelector("#playAgain").style.display = "none";
      document.querySelector("#roundResult").innerText = "";
      computerScore = 0;
      humanScore = 0;
      document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
      document.querySelector("#computerScoreCounter").innerText = `Your score: ${computerScore}`;
      document.querySelector("#gameResult").innerText = "";
    });
      
    function getComputerChoice() {
      let computerChoice = Math.random();
      if (computerChoice <= 0.33) {
        computerChoice = "rock";
        return computerChoice;
      } else if (computerChoice > 0.33 && computerChoice <= 0.66) {
        computerChoice = "paper";
        return computerChoice;
      } else {
        computerChoice = "scissors";
        return computerChoice;
      }
    }
    
    function playGame(humanChoice) {
      
      function playRound(humanChoice, computerChoice) {
        
      if (humanChoice === "rock" && computerChoice === "paper" ) {
        document.querySelector("#roundResult").innerText = "You lose! Paper beats Rock.";
        computerScore += 1;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      } else if (humanChoice === "rock" && computerChoice === "scissors") {
        document.querySelector("#roundResult").innerText = "You win! Rock beats Scissors.";
        humanScore += 1;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      } else if (humanChoice === "paper" && computerChoice === "rock") {
        document.querySelector("#roundResult").innerText = "You win! Paper beats Rock.";
        humanScore += 1;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      } else if (humanChoice === "paper" && computerChoice === "scissors") {
        document.querySelector("#roundResult").innerText = "You lose! Scissors beats Paper.";
        computerScore += 1;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      } else if (humanChoice === "scissors" && computerChoice === "paper") {
        document.querySelector("#roundResult").innerText = "You win! Scissors beats Paper.";
        humanScore += 1;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      } else if (humanChoice === "scissors" && computerChoice === "rock") {
        document.querySelector("#roundResult").innerText = "You lose! Rock beats Scissors.";
        computerScore += 1;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      } else {
        document.querySelector("#roundResult").innerText = `It's a tie! You both chose ${humanChoice}.` ;
        document.querySelector("#humanScoreCounter").innerText = `Your score: ${humanScore}`;
        document.querySelector("#computerScoreCounter").innerText = `Computer score: ${computerScore}`;
      }      
      }

      let humanSelection = humanChoice;
      let computerSelection = getComputerChoice();
      playRound(humanSelection, computerSelection);
      
       
      if (humanScore == 5) {
        document.querySelector("#gameResult").innerText = "You win the game! Congratulations!";
        document.querySelector("#choiceButtons").style.display = "none";
        document.querySelector("#playAgain").style.display = "block";
      } else if (computerScore == 5) {
        document.querySelector("#gameResult").innerText = "Computer wins the game! Better luck next time!"
        document.querySelector("#choiceButtons").style.display = "none";
        document.querySelector("#playAgain").style.display = "block";
      }
      
    }

  </script>
</body>
</html>